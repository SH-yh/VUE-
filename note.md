模板编译目的：生成渲染函数，执行渲染函数可以得到 VNode, 虚拟DOM可以通过 VNode 渲染页面。

过程：
第一步：生成 AST。
这一步主要利用正则从模板字符串中提取出标签节点、节点相关的属性、文本等信息。
提取过程主要是每匹配一次正则提取相关节点，然后裁剪模板字符串，然后循环。
节点的父元素确定利用数据结构 **栈** 实现的。

第二步：优化器。
优化器主要是遍历 AST 标记静态节点。

第三步：代码生成器
代码生成器主要是将 AST 转换成渲染函数的内容，渲染函数执行得到 VNode。

流程：
模板 --> [ AST -->  优化器 --> 代码生成器 ] --> 渲染函数。