模板编译目的：生成渲染函数，执行渲染函数可以得到 VNode, 虚拟DOM可以通过 VNode 渲染页面。

过程：
第一步：生成 AST。
这一步主要利用正则从模板字符串中提取出标签节点、节点相关的属性、文本等信息。
提取过程主要是每匹配一次正则提取相关节点，然后裁剪模板字符串，然后循环。
节点的父元素确定利用数据结构 **栈** 实现的。

第二步：优化器。
优化器主要是遍历 AST 标记静态节点。

第三步：代码生成器
代码生成器主要是将 AST 转换成渲染函数的内容，渲染函数执行得到 VNode。

流程：
模板 --> [ AST -->  优化器 --> 代码生成器 ] --> 渲染函数。



侦测：
每一个对象对应一个 Observer 实例，（每个Observer实例上面有一个dep属性管理着对象的依赖），侦测这个对象所有的属性变化（每个值也都有一个 dep 变量管理着属性的依赖）。如果这个属性的值是对象，那么会迭代上述步骤。

如果对象是个数组，那么数组的依赖全部都由 Observer 实例上的 dep 属性管理。
子属性发生变化同样要通知父属性的依赖，因为会将父属性的依赖添加到子属性的依赖中，这个便是 childOb 的作用和由来